(this.webpackJsonpproexe=this.webpackJsonpproexe||[]).push([[0],{31:function(e,t,n){e.exports=n(66)},36:function(e,t,n){},43:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),c=n.n(r),s=(n(36),n(6)),o=n(11),i=n(25),u=n(26),d=n(30),m=n(29),p=(n(43),n(8)),E=n.n(p),f=function(e){return{type:"ADD_USERS",payload:e}},b=n(4),h=(n(61),function(e){console.log("usersprops",e);var t=Object(a.useState)(),n=Object(b.a)(t,2),r=n[0],c=n[1],s=e.users.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.address?t.address.city:""),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.openAdd(t.id)}},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.openDelete(t.id)}},"Delete")))}));return l.a.createElement("div",{className:"card table-container "},l.a.createElement("div",{className:"add-user-panel"},l.a.createElement("div",null,l.a.createElement("h4",null,"User List")),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn btn-primary add-btn",onClick:function(){return e.openAdd()}},"Add New"),l.a.createElement("button",{type:"button",className:"btn btn-primary add-btn",onClick:function(){return function(){var t=e.users.slice();t.sort((function(e,t){var n=e.username.toUpperCase(),a=t.username.toUpperCase();return n<a?-1:n>a?1:0}));var n=t.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.address?t.address.city:""),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.openAdd(t.id)}},"Edit")),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.openDelete(t.id)}},"Delete")))}));c(n)}()}},"Sort"))),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"City"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,r||s)))}),g=(n(62),n(28)),v=(n(64),function(e){var t=Object(g.a)(),n=t.register,r=t.handleSubmit,c=t.errors;Object(a.useEffect)((function(){var e=document.querySelectorAll("input"),t=[];e.forEach((function(e){Object.keys(c).forEach((function(n){n===e.name?t.push(e):e.style.borderColor="gray"}))})),t.forEach((function(e){e.style.borderColor="red"}))}),[c]);var s=e.editing&&e.users.find((function(t){return t.id===e.editing}));return l.a.createElement("div",{className:"card table-container"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h4",null,"Form")),l.a.createElement("form",{onSubmit:r((function(t){if(e.editing){var n=e.editing;e.editUser({data:t,editing:n}),e.closeAdd()}else e.postUser(t),e.closeAdd()}))},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-center"},"Name"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",defaultValue:s?s.name:"",type:"text",placeholder:"name",name:"name",ref:n({required:!0})}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-4 col-form-label text-center"},"Email"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",defaultValue:s?s.email:"",type:"email",placeholder:"email",name:"email",ref:n({required:!0})}))),l.a.createElement("div",{className:"btn-container"},l.a.createElement("button",{className:"btn btn-outline-danger cancel-btn",onClick:e.closeAdd},"Cancel"),l.a.createElement("input",{className:"btn btn-success",value:"Submit",type:"submit"})))))}),y=(n(65),function(e){return l.a.createElement("div",{className:"delete-popup"},l.a.createElement("div",{className:"delete-container card"},l.a.createElement("div",null,l.a.createElement("h5",null,"Delete")),l.a.createElement("div",{className:"popup-btn-container"},l.a.createElement("button",{className:"btn btn-dark",onClick:e.closeDelete},"Cancel"),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.deletetUser(e.deleting),e.closeDelete()}},"Delete"))))}),U=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={addUserVisible:!1,deleteUserVisible:!1,editing:null,deleting:null},e.openAdd=function(t){e.setState({addUserVisible:!0,editing:t})},e.closeAdd=function(){e.setState({addUserVisible:!1,editing:null})},e.openDelete=function(t){e.setState({deleteUserVisible:!0,deleting:t})},e.closeDelete=function(){e.setState({deleteUserVisible:!1,deleting:null})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.fetchUsers()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Dashboard"),this.state.addUserVisible?l.a.createElement(v,{editUser:this.props.editUser,users:this.props.users,editing:this.state.editing,postUser:this.props.postUser,closeAdd:this.closeAdd}):l.a.createElement(h,{users:this.props.users,openAdd:this.openAdd,openDelete:this.openDelete}),this.state.deleteUserVisible&&l.a.createElement(y,{closeDelete:this.closeDelete,deleting:this.state.deleting,deletetUser:this.props.deletetUser}))}}]),n}(a.Component),N=Object(o.b)((function(e){return{users:e.users}}),(function(e){return{fetchUsers:function(){return e((function(e){E.a.get("https://jsonplaceholder.typicode.com/users").then((function(t){e(f(t.data))})).catch((function(t){console.log(t),e(f(t))}))}))},postUser:function(t){return e((n=t,function(e){E.a.post("https://jsonplaceholder.typicode.com/users",n).then((function(t){var n=t.data;e(function(e){return{type:"ADD_USER",payload:e}}(n))})).catch((function(e){console.log(e)}))}));var n},deletetUser:function(t){return e((n=t,function(e){E.a.delete("https://jsonplaceholder.typicode.com/users/".concat(n)).then((function(t){e(function(e){return{type:"DELETE_USER",payload:e}}(n))})).catch((function(e){console.log(e)}))}));var n},editUser:function(t){return e(function(e){var t=e.editing;return function(n){E.a.patch("https://jsonplaceholder.typicode.com/users/".concat(t),e.data).then((function(e){n({type:"EDIT_USER",payload:{res:e,id:t}})})).catch((function(e){console.log(e)}))}}(t))}}}))(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(27),S=n(9),O={users:[]},j=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_USERS":return e=n.payload,Object(S.a)({},t,{users:e});case"ADD_USER":return e=t.users.concat(n.payload),Object(S.a)({},t,{users:e});case"DELETE_USER":return e=t.users.filter((function(e){return e.id!==n.payload})),Object(S.a)({},t,{users:e});case"EDIT_USER":var a=n.payload.id,l=t.users.findIndex((function(e){return e.id===a}));return(e=t.users.slice()).splice(l,1,n.payload.res.data),Object(S.a)({},t,{users:e});default:return t}},A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,k=Object(s.d)(j,A(Object(s.a)((function(e){return function(t){return function(n){console.log("[Middleware] Dispatching",n);var a=t(n);return console.log("[Middleware] next state",e.getState()),a}}}),D.a)));c.a.render(l.a.createElement(o.a,{store:k},l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a39fa3fd.chunk.js.map